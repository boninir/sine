{% extends 'AppBundle::layout.html.twig' %}

{% block core %}

    <div class="container center-block" role="main">
        <div class="jumbotron">
            <h3 class="text-center">
                {{ vehicle.mark ~ ' ' ~ vehicle.type }}
                <a class="btn btn-warning" data-toggle="modal" data-target="#myModal">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                </a>
            </h3>
            {% for flash_message in app.session.flashBag.get('notice') %}
                <div class="alert alert-success alert-dismissible flash-notice" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    {{ flash_message }}
                </div>
            {% endfor %}
            <div class="row">
                <div class="col-md-7"><b>- Marque :</b> {{ vehicle.mark }}</div>
                <div class="col-md-5"><b>- Immatriculation :</b> {{ vehicle.registration }}</div>
            </div>
            <div class="row">
                <div class="col-md-7"><b>- Type :</b> {{ vehicle.type }}</div>
                <div class="col-md-5"><b>- CV :</b> {{ vehicle.cv }}</div>
            </div>
            <div class="row">
                <div class="col-md-7"><b>- N° châssis :</b> {{ vehicle.frame }}</div>
                <div class="col-md-5"><b>- Couleur :</b> {{ vehicle.color }}</div>
            </div>
            <div class="row">
                <div class="col-md-7"><b>- Kilomètres parcouru :</b> {{ vehicle.kilometerTraveled }}</div>
                <div class="col-md-5"><b>- Kilomètres au compteur :</b> {{ vehicle.kilometerOnCounter }}</div>
            </div>
            <div class="row">
                <div class="col-md-7"><b>- Mise en service :</b> {{ vehicle.releaseDate }}</div>
                <div class="col-md-5"><b>- Bon SAP :</b> {{ vehicle.sapVoucher }}</div>
            </div>
            <div class="row">
                <div class="col-md-7"><b>- Essence :</b> {{ vehicle.fuel.denomination }}</div>
            </div>
        </div>

        <div class="row text-center center-block">
            <ul class="nav nav-pills" role="tablist">
                <li class="col-md-3"></li>
                <li role="presentation" class="active col-md-2"><a href="#mecanique" role="tab" data-toggle="tab">Mécanique</a></li>
                <li role="presentation" class="col-md-2"><a href="#carosserie" role="tab" data-toggle="tab">Carosserie</a></li>
                <li role="presentation" class="col-md-2"><a href="#interrieur" role="tab" data-toggle="tab">Interrieur</a></li>
            </ul>
        </div>

        <div class="row text-center center-block">
            <div class="tab-content">
                <div role="tabpanel" class="tab-pane active" id="mecanique">1</div>
                <div role="tabpanel" class="tab-pane" id="carosserie">2</div>
                <div role="tabpanel" class="tab-pane" id="interrieur">3</div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        {% form_theme form 'AppBundle:form:fields.html.twig' %}
        {{ form_start(form, {'attr': {'class': ''} }) }}
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="myModalLabel">{{ vehicle.mark ~ ' ' ~ vehicle.type }}</h4>
                    </div>
                    <div class="modal-body">
                        {{ form_widget(form) }}
                    </div>
                    <div class="modal-footer">
                        <input type="submit" value="Mettre à jour le véhicule" class="btn btn-success" />
                        <button type="button" class="btn btn-primary" data-dismiss="modal">Retour</button>
                    </div>
                </div>
            </div>
        {{ form_end(form) }}
    </div>


{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        $('#myTabs a').click(function (e) {
            e.preventDefault()
            $(this).tab('show')
        });

        $('#myModal').on('shown.bs.modal', function () {
            $('#myInput').focus()
        });
    </script>
{% endblock %}